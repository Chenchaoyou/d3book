# Web tech

Read: Chapter 3 "Technology Fundamentals" (pp. 17-62) 

*There is a lot of material in this chapter. It is worth making the effort to learn it now and start D3 with a solid foundation of elementary HTML/CSS/SVG/JavaScript.*

Here we examine `shapes.html` from Chapter 1 to see how the various technologies are combined into a single document.

## HTML -- HyperText Markup Language

Note that `shapes.html` has an HTML extension; HTML in fact provides the structure for the document.  It has a `<head>` and `<body>` section. 

In the `<head>` section we use `<script>` tags to link to the D3 library:

``` js
<script src="https://d3js.org/d3.v5.min.js"></script>`
```

## CSS -- Cascading Style Sheets

CSS is used for styling web pages, and more importantly for our purposes, selecting elements on a page or in a graphic. `shapes.html` has style information in the `<head>` section that uses CSS:

``` js
<style type="text/css">
    h1 {color:red;}		/* CSS styling */
    p {color:blue;}
</style>
```

Here we specify that all HTML `<h1>` headers should be red and all HTML paragraphs `<p>` should be blue.  This is an example of an *internal style sheet*. Later we will consider alternatives: *external style sheets* and *inline styling*.

## SVG -- Scalable Vector Graphics

SVG is a human readable graphics format that facilitates manipulation of individual elements. You may be familiar with `.svg` files.  Here we have SVG graphics within `<svg>` tags in the `<body>` section of the HTML document:


``` js
<svg width="500" height="300">  <!-- some SVG -->
    <rect x="20" y="20" width="460" height="260" fill="lightblue"></rect>
    <circle cx="50" cy="75" r="20" fill="blue"></circle>
    <ellipse cx="175" cy="100" rx="45" ry="30" fill="green"></ellipse>
    <text x="150" y="200">(150, 200)</text>
    <line x1="250" y1="150" x2="300" y2="200" stroke="red" stroke-width="5"></line>
</svg>
```

Rendered:
<script src="https://d3js.org/d3.v5.min.js"></script>`
<svg width="500" height="300">  <!-- some SVG -->
<rect x="20" y="20" width="460" height="260" fill="lightblue"></rect>
<circle cx="50" cy="75" r="20" fill="blue"></circle>
<ellipse cx="175" cy="100" rx="45" ry="30" fill="green"></ellipse>
<text x="150" y="200">(150, 200)</text>
<line x1="250" y1="150" x2="300" y2="200" stroke="red" stroke-width="5"></line>
</svg>

There are very few SVG tags that you'll need to know, and once we get going with D3, you will not have to code any SVG manually. It is worth doing a little to become familiar with the format and in particular to get used to the new location of the origin.

## JavaScript

JavaScript is the most common language for making web pages interactive. Code is executed when page is opened or refreshed. So far we have run JavaScript in the Console, but have not included it in the web page itself. When we do so, it will be between `<script>` tags in the `<body>` section of the HTML document.

## D3 -- Data Driven Documents

D3 is a JavaScript library well suited to interactive graphics. As such, it is also included between `<script>` tags in the `<body>` section. For D3 to work, you must link to the D3 library in the `<head>` section of the document.

There seems to be a misconception that D3 is a high level language.  It is not. You will be working on the pixel level to create graphics, including drawing your own axes and doing other things that you're not used to doing if you've been working in R or Python.  (On the bright side, after D3, R base graphics will seem very high level.)

It is legitimate to ask why you need to know D3 as a data scientist. Many if not most of you will not be coding in JavaScript from the ground up in your future careers. However, it's a great way to learn how interactive graphics work under the hood, and will give you a solid foundation which you can draw on to tweak visualizations that you build with high level tools such as [Plotly](https://plot.ly/). 

## Putting it all together

While `shapes.html` appears as a single consistent document, it is actually comprised of multiple languages. HTML, CSS, and SVG are already there, and we will be adding JavaScript / D3 soon. 

```{r, echo=FALSE, fig.align='center', out.width="80%"}
knitr::include_graphics("images/shapes.png")
```

Of note:

- An HTML is composed of lines or sections set off with tags. In particular `<style> ... </style>`, `<svg> ... </svg>`, and `<script> ... </script>` indicate the inclusion of CSS, SVG, and JavaScript/D3 respectively.

- For D3 to work, you must link to a D3 library.  Here we link to an online version, but you can also download a copy from https://d3js.org and reference the local copy with:

    ``` js
    <script src="d3.js"></script>
    ```

- Comment syntax varies with language:

    - `<!-- single or multiline HTML or SVG comment -->`
    
    - `/* single or multiline CSS comment */`
    
    - `// single line JavaScript comment`
    
    - `/* JavaScript` <br> `multiline comment */`
