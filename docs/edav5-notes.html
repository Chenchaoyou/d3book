<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 EDAV5 Notes | D3 for R Users</title>
  <meta name="description" content="5 EDAV5 Notes | D3 for R Users" />
  <meta name="generator" content="bookdown 0.15.1 and GitBook 2.6.7" />

  <meta property="og:title" content="5 EDAV5 Notes | D3 for R Users" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 EDAV5 Notes | D3 for R Users" />
  
  
  

<meta name="author" content="Joyce Robbins" />


<meta name="date" content="2019-11-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="update-enter-and-exit.html"/>
<link rel="next" href="your-solutions-here.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">D3 for R Users</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="1" data-path="jump.html"><a href="jump.html"><i class="fa fa-check"></i><b>1</b> Jump in the deep end <i class="fas fa-swimmer"></i></a><ul>
<li class="chapter" data-level="1.1" data-path="jump.html"><a href="jump.html#get-ready"><i class="fa fa-check"></i><b>1.1</b> Get ready <i class="fas fa-forward"></i></a></li>
<li class="chapter" data-level="1.2" data-path="jump.html"><a href="jump.html#elements-tab"><i class="fa fa-check"></i><b>1.2</b> Elements tab <i class="far fa-folder"></i></a></li>
<li class="chapter" data-level="1.3" data-path="jump.html"><a href="jump.html#console-tab"><i class="fa fa-check"></i><b>1.3</b> Console tab <i class="far fa-folder"></i></a></li>
<li class="chapter" data-level="1.4" data-path="jump.html"><a href="jump.html#modify-elements"><i class="fa fa-check"></i><b>1.4</b> Modify elements <i class="fas fa-exchange-alt"></i></a></li>
<li class="chapter" data-level="1.5" data-path="jump.html"><a href="jump.html#transitions"><i class="fa fa-check"></i><b>1.5</b> Transitions <i class="far fa-paper-plane"></i></a></li>
<li class="chapter" data-level="1.6" data-path="jump.html"><a href="jump.html#interactivity"><i class="fa fa-check"></i><b>1.6</b> Interactivity <i class="fas fa-mouse-pointer"></i></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="web.html"><a href="web.html"><i class="fa fa-check"></i><b>2</b> Web tech <i class="fas fa-server"></i></a><ul>
<li class="chapter" data-level="2.1" data-path="web.html"><a href="web.html#html"><i class="fa fa-check"></i><b>2.1</b> HTML <i class="fab fa-html5"></i></a></li>
<li class="chapter" data-level="2.2" data-path="web.html"><a href="web.html#css"><i class="fa fa-check"></i><b>2.2</b> CSS <i class="fab fa-css3"></i></a><ul>
<li class="chapter" data-level="2.2.1" data-path="web.html"><a href="web.html#internal-style-sheet"><i class="fa fa-check"></i><b>2.2.1</b> Internal style sheet</a></li>
<li class="chapter" data-level="2.2.2" data-path="web.html"><a href="web.html#external-style-sheets"><i class="fa fa-check"></i><b>2.2.2</b> External style sheets</a></li>
<li class="chapter" data-level="2.2.3" data-path="web.html"><a href="web.html#inline-styling"><i class="fa fa-check"></i><b>2.2.3</b> Inline styling</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="web.html"><a href="web.html#svg"><i class="fa fa-check"></i><b>2.3</b> SVG <i class="far fa-image"></i></a></li>
<li class="chapter" data-level="2.4" data-path="web.html"><a href="web.html#javascript"><i class="fa fa-check"></i><b>2.4</b> JavaScript <i class="fab fa-js-square"></i></a></li>
<li class="chapter" data-level="2.5" data-path="web.html"><a href="web.html#d3"><i class="fa fa-check"></i><b>2.5</b> D3 <i class="far fa-chart-bar"></i></a></li>
<li class="chapter" data-level="2.6" data-path="web.html"><a href="web.html#html-tree"><i class="fa fa-check"></i><b>2.6</b> HTML tree <i class="fas fa-tree"></i></a></li>
<li class="chapter" data-level="2.7" data-path="web.html"><a href="web.html#exercise-shapes"><i class="fa fa-check"></i><b>2.7</b> Exercise <i class="fas fa-dumbbell"></i>: shapes</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="d3console.html"><a href="d3console.html"><i class="fa fa-check"></i><b>3</b> D3 in the Console <i class="far fa-folder"></i></a><ul>
<li class="chapter" data-level="3.1" data-path="d3console.html"><a href="d3console.html#selections"><i class="fa fa-check"></i><b>3.1</b> Selections <i class="fas fa-clipboard-list"></i></a><ul>
<li class="chapter" data-level="3.1.1" data-path="d3console.html"><a href="d3console.html#select-by-tag"><i class="fa fa-check"></i><b>3.1.1</b> Select by tag</a></li>
<li class="chapter" data-level="3.1.2" data-path="d3console.html"><a href="d3console.html#select-by-class"><i class="fa fa-check"></i><b>3.1.2</b> Select by class</a></li>
<li class="chapter" data-level="3.1.3" data-path="d3console.html"><a href="d3console.html#select-by-id"><i class="fa fa-check"></i><b>3.1.3</b> Select by ID</a></li>
<li class="chapter" data-level="3.1.4" data-path="d3console.html"><a href="d3console.html#store-selections"><i class="fa fa-check"></i><b>3.1.4</b> Store selections</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="d3console.html"><a href="d3console.html#modify-existing-elements"><i class="fa fa-check"></i><b>3.2</b> Modify existing elements <i class="fas fa-exchange-alt"></i></a><ul>
<li class="chapter" data-level="3.2.1" data-path="d3console.html"><a href="d3console.html#modify-attributes"><i class="fa fa-check"></i><b>3.2.1</b> Modify attributes</a></li>
<li class="chapter" data-level="3.2.2" data-path="d3console.html"><a href="d3console.html#modify-styles"><i class="fa fa-check"></i><b>3.2.2</b> Modify styles</a></li>
<li class="chapter" data-level="3.2.3" data-path="d3console.html"><a href="d3console.html#modify-text"><i class="fa fa-check"></i><b>3.2.3</b> Modify text</a></li>
<li class="chapter" data-level="3.2.4" data-path="d3console.html"><a href="d3console.html#move-svg-text"><i class="fa fa-check"></i><b>3.2.4</b> Move SVG text</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="d3console.html"><a href="d3console.html#add-elements"><i class="fa fa-check"></i><b>3.3</b> Add elements <i class="far fa-plus-square"></i></a><ul>
<li class="chapter" data-level="3.3.1" data-path="d3console.html"><a href="d3console.html#html-1"><i class="fa fa-check"></i><b>3.3.1</b> HTML</a></li>
<li class="chapter" data-level="3.3.2" data-path="d3console.html"><a href="d3console.html#svg-1"><i class="fa fa-check"></i><b>3.3.2</b> SVG</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="d3console.html"><a href="d3console.html#remove-elements"><i class="fa fa-check"></i><b>3.4</b> Remove elements <i class="far fa-minus-square"></i></a><ul>
<li class="chapter" data-level="3.4.1" data-path="d3console.html"><a href="d3console.html#html-2"><i class="fa fa-check"></i><b>3.4.1</b> HTML</a></li>
<li class="chapter" data-level="3.4.2" data-path="d3console.html"><a href="d3console.html#svg-2"><i class="fa fa-check"></i><b>3.4.2</b> SVG</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="d3console.html"><a href="d3console.html#exercise-green-circles"><i class="fa fa-check"></i><b>3.5</b> Exercise <i class="fas fa-dumbbell"></i>: green circles</a></li>
<li class="chapter" data-level="3.6" data-path="d3console.html"><a href="d3console.html#exercise-blue-circles"><i class="fa fa-check"></i><b>3.6</b> Exercise <i class="fas fa-dumbbell"></i> <i class="fas fa-dumbbell"></i>: blue circles</a></li>
<li class="chapter" data-level="3.7" data-path="d3console.html"><a href="d3console.html#bind-data-finally"><i class="fa fa-check"></i><b>3.7</b> Bind data… <em>finally!</em> <i class="fas fa-table"></i></a></li>
<li class="chapter" data-level="3.8" data-path="d3console.html"><a href="d3console.html#exercise-data-bind"><i class="fa fa-check"></i><b>3.8</b> Exercise <i class="fas fa-dumbbell"></i>: data bind</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html"><i class="fa fa-check"></i><b>4</b> Update, Enter, and Exit <i class="fa fa-refresh"></i></a><ul>
<li class="chapter" data-level="4.1" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html#lecture-slides"><i class="fa fa-check"></i><b>4.1</b> Lecture slides <i class="fa fa-television"></i></a></li>
<li class="chapter" data-level="4.2" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html#remove-some-elements"><i class="fa fa-check"></i><b>4.2</b> Remove some elements <i class="far fa-minus-square"></i></a></li>
<li class="chapter" data-level="4.3" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html#add-some-elements"><i class="fa fa-check"></i><b>4.3</b> Add some elements <i class="far fa-plus-square"></i></a></li>
<li class="chapter" data-level="4.4" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html#data-enter-append"><i class="fa fa-check"></i><b>4.4</b> Data / enter / append <i class="fa fa-table"></i></a></li>
<li class="chapter" data-level="4.5" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html#exercise-horizontal-bar-chart"><i class="fa fa-check"></i><b>4.5</b> Exercise <i class="fas fa-dumbbell"></i>: horizontal bar chart</a></li>
<li class="chapter" data-level="4.6" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html#merge-selections"><i class="fa fa-check"></i><b>4.6</b> Merge selections <i class="fa fa-code-fork"></i></a></li>
<li class="chapter" data-level="4.7" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html#exercise-merge"><i class="fa fa-check"></i><b>4.7</b> Exercise <i class="fas fa-dumbbell"></i>: merge</a></li>
<li class="chapter" data-level="4.8" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html#groups"><i class="fa fa-check"></i><b>4.8</b> Groups <i class="fa fa-object-group"></i></a></li>
<li class="chapter" data-level="4.9" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html#general-update-pattern"><i class="fa fa-check"></i><b>4.9</b> General Update Pattern</a></li>
<li class="chapter" data-level="4.10" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html#exercise-functions"><i class="fa fa-check"></i><b>4.10</b> Exercise: <i class="fas fa-dumbbell"></i>: functions</a></li>
<li class="chapter" data-level="4.11" data-path="update-enter-and-exit.html"><a href="update-enter-and-exit.html#exercise-vertical-bar-chart"><i class="fa fa-check"></i><b>4.11</b> Exercise <i class="fas fa-dumbbell"></i>: vertical bar chart</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="edav5-notes.html"><a href="edav5-notes.html"><i class="fa fa-check"></i><b>5</b> EDAV5 Notes</a><ul>
<li class="chapter" data-level="5.0.1" data-path="edav5-notes.html"><a href="edav5-notes.html#just-enough-javascript"><i class="fa fa-check"></i><b>5.0.1</b> Just Enough JavaScript</a></li>
<li class="chapter" data-level="5.0.2" data-path="edav5-notes.html"><a href="edav5-notes.html#practice"><i class="fa fa-check"></i><b>5.0.2</b> Practice</a></li>
<li class="chapter" data-level="5.0.3" data-path="edav5-notes.html"><a href="edav5-notes.html#practice-3-buttons"><i class="fa fa-check"></i><b>5.0.3</b> Practice 3 buttons</a></li>
<li class="chapter" data-level="5.0.4" data-path="edav5-notes.html"><a href="edav5-notes.html#practice-4-d3.scaleband"><i class="fa fa-check"></i><b>5.0.4</b> Practice 4 d3.scaleBand</a></li>
<li class="chapter" data-level="5.0.5" data-path="edav5-notes.html"><a href="edav5-notes.html#practice-5-d3.scalelinear"><i class="fa fa-check"></i><b>5.0.5</b> Practice 5 d3.scaleLinear</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="your-solutions-here.html"><a href="your-solutions-here.html"><i class="fa fa-check"></i><b>6</b> Your solutions here <i class="fa fa-check-square-o"></i></a><ul>
<li class="chapter" data-level="" data-path="your-solutions-here.html"><a href="your-solutions-here.html#web-tech-shapes"><i class="fa fa-check"></i>Web tech: shapes</a></li>
<li class="chapter" data-level="" data-path="your-solutions-here.html"><a href="your-solutions-here.html#d3-in-the-console-green-circles"><i class="fa fa-check"></i>D3 in the Console: green circles</a></li>
<li class="chapter" data-level="" data-path="your-solutions-here.html"><a href="your-solutions-here.html#d3-in-the-console-blue-circles"><i class="fa fa-check"></i>D3 in the Console: blue circles</a></li>
<li class="chapter" data-level="" data-path="your-solutions-here.html"><a href="your-solutions-here.html#d3-in-the-console-data-bind"><i class="fa fa-check"></i>D3 in the Console: data bind</a></li>
<li class="chapter" data-level="" data-path="your-solutions-here.html"><a href="your-solutions-here.html#update-enter-and-exit-horizontal-bar-chart"><i class="fa fa-check"></i>Update, Enter, and Exit: horizontal bar chart</a></li>
<li class="chapter" data-level="" data-path="your-solutions-here.html"><a href="your-solutions-here.html#update-enter-and-exit-merge"><i class="fa fa-check"></i>Update, Enter, and Exit: merge</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="more-chapters-coming-soon.html"><a href="more-chapters-coming-soon.html"><i class="fa fa-check"></i><b>7</b> More chapters coming soon <i class="fas fa-screwdriver"></i></a><ul>
<li class="chapter" data-level="7.1" data-path="more-chapters-coming-soon.html"><a href="more-chapters-coming-soon.html#maintainer-links"><i class="fa fa-check"></i><b>7.1</b> Maintainer links</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">D3 for R Users</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="edav5-notes" class="section level1">
<h1><span class="header-section-number">5</span> EDAV5 Notes</h1>
<div id="just-enough-javascript" class="section level3">
<h3><span class="header-section-number">5.0.1</span> Just Enough JavaScript</h3>
<p>Basics: <em>IDVW</em>, pp. 36-52</p>
<p>objects, arrays, arrays of objects, functions (and other things)</p>
<p><strong>Array of arrays</strong></p>
<p>Open <a href="https://jtr13.github.io/D3/HorizontalBarChart.html" class="uri">https://jtr13.github.io/D3/HorizontalBarChart.html</a> in a new tab.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb88-1" data-line-number="1"><span class="kw">var</span> array_dataset <span class="op">=</span> [[<span class="dv">100</span><span class="op">,</span> <span class="dv">200</span><span class="op">,</span> <span class="dv">40</span>]<span class="op">,</span> [<span class="dv">300</span><span class="op">,</span> <span class="dv">150</span><span class="op">,</span> <span class="dv">20</span>]]<span class="op">;</span></a>
<a class="sourceLine" id="cb88-2" data-line-number="2"></a>
<a class="sourceLine" id="cb88-3" data-line-number="3"><span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;svg&quot;</span>)</a>
<a class="sourceLine" id="cb88-4" data-line-number="4">  .<span class="at">selectAll</span>(<span class="st">&quot;circle&quot;</span>)</a>
<a class="sourceLine" id="cb88-5" data-line-number="5">  .<span class="at">data</span>(array_dataset)</a>
<a class="sourceLine" id="cb88-6" data-line-number="6">  .<span class="at">enter</span>()</a>
<a class="sourceLine" id="cb88-7" data-line-number="7">  .<span class="at">append</span>(<span class="st">&quot;circle&quot;</span>)</a>
<a class="sourceLine" id="cb88-8" data-line-number="8">  .<span class="at">attr</span>(<span class="st">&quot;cx&quot;</span><span class="op">,</span> d <span class="op">=&gt;</span> d[<span class="dv">0</span>])</a>
<a class="sourceLine" id="cb88-9" data-line-number="9">  .<span class="at">attr</span>(<span class="st">&quot;cy&quot;</span><span class="op">,</span> d <span class="op">=&gt;</span> d[<span class="dv">1</span>])</a>
<a class="sourceLine" id="cb88-10" data-line-number="10">  .<span class="at">attr</span>(<span class="st">&quot;r&quot;</span><span class="op">,</span> d <span class="op">=&gt;</span> d[<span class="dv">2</span>])</a>
<a class="sourceLine" id="cb88-11" data-line-number="11">  .<span class="at">attr</span>(<span class="st">&quot;fill&quot;</span><span class="op">,</span> <span class="st">&quot;red&quot;</span>)<span class="op">;</span></a></code></pre></div>
<p><strong>Array of objects</strong></p>
<p>(Refresh page)</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb89-1" data-line-number="1"><span class="kw">var</span> object_dataset <span class="op">=</span> [ <span class="op">{</span></a>
<a class="sourceLine" id="cb89-2" data-line-number="2">  <span class="dt">cx</span><span class="op">:</span> <span class="dv">100</span><span class="op">,</span></a>
<a class="sourceLine" id="cb89-3" data-line-number="3">  <span class="dt">cy</span><span class="op">:</span> <span class="dv">200</span><span class="op">,</span></a>
<a class="sourceLine" id="cb89-4" data-line-number="4">  <span class="dt">fill</span><span class="op">:</span> <span class="vs">`red`</span></a>
<a class="sourceLine" id="cb89-5" data-line-number="5">  <span class="op">},</span></a>
<a class="sourceLine" id="cb89-6" data-line-number="6">  <span class="op">{</span></a>
<a class="sourceLine" id="cb89-7" data-line-number="7">  <span class="dt">cx</span><span class="op">:</span> <span class="dv">300</span><span class="op">,</span></a>
<a class="sourceLine" id="cb89-8" data-line-number="8">  <span class="dt">cy</span><span class="op">:</span> <span class="dv">100</span><span class="op">,</span></a>
<a class="sourceLine" id="cb89-9" data-line-number="9">  <span class="dt">fill</span><span class="op">:</span> <span class="vs">`blue`</span></a>
<a class="sourceLine" id="cb89-10" data-line-number="10">  <span class="op">}</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb89-11" data-line-number="11"></a>
<a class="sourceLine" id="cb89-12" data-line-number="12"><span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;svg&quot;</span>)</a>
<a class="sourceLine" id="cb89-13" data-line-number="13">  .<span class="at">selectAll</span>(<span class="st">&quot;circle&quot;</span>)</a>
<a class="sourceLine" id="cb89-14" data-line-number="14">  .<span class="at">data</span>(object_dataset)</a>
<a class="sourceLine" id="cb89-15" data-line-number="15">  .<span class="at">enter</span>()</a>
<a class="sourceLine" id="cb89-16" data-line-number="16">  .<span class="at">append</span>(<span class="st">&quot;circle&quot;</span>)</a>
<a class="sourceLine" id="cb89-17" data-line-number="17">  .<span class="at">attr</span>(<span class="st">&quot;cx&quot;</span><span class="op">,</span> d <span class="op">=&gt;</span> <span class="va">d</span>.<span class="at">cx</span>)</a>
<a class="sourceLine" id="cb89-18" data-line-number="18">  .<span class="at">attr</span>(<span class="st">&quot;cy&quot;</span><span class="op">,</span> d <span class="op">=&gt;</span> <span class="va">d</span>.<span class="at">cy</span>)</a>
<a class="sourceLine" id="cb89-19" data-line-number="19">  .<span class="at">attr</span>(<span class="st">&quot;r&quot;</span><span class="op">,</span> <span class="st">&quot;50&quot;</span>)</a>
<a class="sourceLine" id="cb89-20" data-line-number="20">  .<span class="at">attr</span>(<span class="st">&quot;fill&quot;</span><span class="op">,</span> d <span class="op">=&gt;</span> <span class="va">d</span>.<span class="at">fill</span>)<span class="op">;</span></a></code></pre></div>
<p><strong>JavaScript Math methods / functions</strong></p>
<p>Take <em>one data value</em>, return one value.</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math#Methods" class="uri">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math#Methods</a></p>
<div class="sourceCode" id="cb90"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb90-1" data-line-number="1"><span class="va">Math</span>.<span class="at">sqrt</span>(<span class="dv">3</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb90-2" data-line-number="2"></a>
<a class="sourceLine" id="cb90-3" data-line-number="3"><span class="kw">var</span> x <span class="op">=</span> [<span class="dv">3</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">7</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb90-4" data-line-number="4"></a>
<a class="sourceLine" id="cb90-5" data-line-number="5"><span class="va">Math</span>.<span class="at">sqrt</span>(x)<span class="op">;</span> <span class="co">// oops, it&#39;s not R</span></a>
<a class="sourceLine" id="cb90-6" data-line-number="6"></a>
<a class="sourceLine" id="cb90-7" data-line-number="7">Math<span class="op">;</span></a></code></pre></div>
<p><strong>map()</strong> to the rescue</p>
<p>Use map to operate on each array element separately.</p>
<p>Analogy:</p>
<p>R list:<code>lapply()</code> :: JavaScript array:<code>.map()</code></p>
<p>(What is the tidyverse equivalent of <code>lapply()</code>? <code>map()</code>!!!!!!)</p>
<p>Do something to every element of a simple array:</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb91-1" data-line-number="1"><span class="va">x</span>.<span class="at">map</span>(<span class="va">Math</span>.<span class="at">sqrt</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb91-2" data-line-number="2"></a>
<a class="sourceLine" id="cb91-3" data-line-number="3"><span class="va">x</span>.<span class="at">map</span>(d <span class="op">=&gt;</span> d<span class="op">*</span><span class="dv">3</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb91-4" data-line-number="4"></a>
<a class="sourceLine" id="cb91-5" data-line-number="5"><span class="va">x</span>.<span class="at">map</span>(<span class="kw">function</span>(d) <span class="op">{</span><span class="cf">return</span> d<span class="op">*</span><span class="dv">3</span><span class="op">;}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb91-6" data-line-number="6"></a>
<a class="sourceLine" id="cb91-7" data-line-number="7">[<span class="dv">10</span><span class="op">,</span> <span class="dv">20</span><span class="op">,</span> <span class="dv">30</span><span class="op">,</span> <span class="dv">40</span>].<span class="at">map</span>((d<span class="op">,</span> i) <span class="op">=&gt;</span> d<span class="op">*</span>i)<span class="op">;</span></a></code></pre></div>
<p>My nested array language:</p>
<p>[<em>element1, element2</em>]</p>
<p><em>element1</em> = [<em>item1, item2, item3</em>]</p>
<p><em>element2</em> = [<em>item1, item2, item3</em>]</p>
<p>Do something to the first item of every element of a nested array:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb92-1" data-line-number="1"><span class="va">array_dataset</span>.<span class="at">map</span>(d <span class="op">=&gt;</span> <span class="va">Math</span>.<span class="at">sqrt</span>(d[<span class="dv">0</span>]))</a></code></pre></div>
<p>Sum up all items in each element of the array:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb93-1" data-line-number="1"><span class="va">array_dataset</span>.<span class="at">map</span>(d <span class="op">=&gt;</span> d[<span class="dv">0</span>] <span class="op">+</span> d[<span class="dv">1</span>] <span class="op">+</span> d[<span class="dv">2</span>])<span class="op">;</span></a></code></pre></div>
<p>Created a nested array out of a simple array:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb94-1" data-line-number="1">[<span class="dv">10</span><span class="op">,</span> <span class="dv">20</span><span class="op">,</span> <span class="dv">30</span>].<span class="at">map</span>(d <span class="op">=&gt;</span> [d<span class="op">,</span> <span class="va">Math</span>.<span class="at">pow</span>(d<span class="op">,</span> <span class="dv">2</span>)])<span class="op">;</span></a></code></pre></div>
<p>Create an array of objects out of a simple array (note the parentheses around the object):</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb95-1" data-line-number="1">[<span class="dv">10</span><span class="op">,</span> <span class="dv">20</span><span class="op">,</span> <span class="dv">30</span>].<span class="at">map</span>(d <span class="op">=&gt;</span> (<span class="op">{</span><span class="dt">n</span><span class="op">:</span> d<span class="op">,</span> <span class="dt">nsq</span><span class="op">:</span> <span class="va">Math</span>.<span class="at">pow</span>(d<span class="op">,</span> <span class="dv">2</span>)<span class="op">}</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb95-2" data-line-number="2"></a>
<a class="sourceLine" id="cb95-3" data-line-number="3">[<span class="dv">10</span><span class="op">,</span> <span class="dv">20</span><span class="op">,</span> <span class="dv">30</span>].<span class="at">map</span>((d<span class="op">,</span> i) <span class="op">=&gt;</span> (<span class="op">{</span><span class="dt">index</span><span class="op">:</span> i<span class="op">,</span> <span class="dt">value</span><span class="op">:</span> d<span class="op">}</span>))<span class="op">;</span></a></code></pre></div>
<p><strong>d3 statistics functions</strong></p>
<p>Take <em>arrays</em> –&gt; return single values (like R!)</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb96-1" data-line-number="1"><span class="kw">var</span> x <span class="op">=</span> [<span class="dv">12</span><span class="op">,</span> <span class="dv">34</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">43</span><span class="op">,</span> <span class="dv">90</span><span class="op">,</span> <span class="dv">72</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb96-2" data-line-number="2"></a>
<a class="sourceLine" id="cb96-3" data-line-number="3"><span class="va">d3</span>.<span class="at">mean</span>(x)<span class="op">;</span></a>
<a class="sourceLine" id="cb96-4" data-line-number="4"></a>
<a class="sourceLine" id="cb96-5" data-line-number="5"><span class="va">d3</span>.<span class="at">sum</span>(x)<span class="op">;</span></a>
<a class="sourceLine" id="cb96-6" data-line-number="6"></a>
<a class="sourceLine" id="cb96-7" data-line-number="7"><span class="va">d3</span>.<span class="at">min</span>(x)<span class="op">;</span></a>
<a class="sourceLine" id="cb96-8" data-line-number="8"></a>
<a class="sourceLine" id="cb96-9" data-line-number="9"><span class="va">d3</span>.<span class="at">max</span>(x)<span class="op">;</span></a></code></pre></div>
<p>Take an array, return two values:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb97-1" data-line-number="1"><span class="va">d3</span>.<span class="at">extent</span>(x)<span class="op">;</span>  \\ Think <span class="st">&quot;range&quot;</span></a></code></pre></div>
<p>Take a single value, return an array:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb98-1" data-line-number="1"><span class="va">d3</span>.<span class="at">range</span>(<span class="dv">5</span>)<span class="op">;</span> \\ Think<span class="op">:</span> count <span class="im">from</span> <span class="dv">0</span> to n<span class="dv">-1</span></a></code></pre></div>
<p><a href="https://github.com/d3/d3/blob/master/API.md#statistics" class="uri">https://github.com/d3/d3/blob/master/API.md#statistics</a></p>
<p><strong>Combine d3 functions with .map</strong></p>
<p>Helpful when dealing with arrays of arrays, or arrays of objects</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb99-1" data-line-number="1"><span class="kw">var</span> dataset <span class="op">=</span> [[<span class="dv">100</span><span class="op">,</span> <span class="dv">200</span><span class="op">,</span> <span class="dv">40</span>]<span class="op">,</span> [<span class="dv">300</span><span class="op">,</span> <span class="dv">150</span><span class="op">,</span> <span class="dv">20</span>]]<span class="op">;</span></a>
<a class="sourceLine" id="cb99-2" data-line-number="2"></a>
<a class="sourceLine" id="cb99-3" data-line-number="3"><span class="va">d3</span>.<span class="at">sum</span>(<span class="va">dataset</span>.<span class="at">map</span>(d <span class="op">=&gt;</span> d[<span class="dv">0</span>]))<span class="op">;</span></a>
<a class="sourceLine" id="cb99-4" data-line-number="4"></a>
<a class="sourceLine" id="cb99-5" data-line-number="5"><span class="va">dataset</span>.<span class="at">map</span>(d <span class="op">=&gt;</span> <span class="va">d3</span>.<span class="at">sum</span>(d))<span class="op">;</span></a>
<a class="sourceLine" id="cb99-6" data-line-number="6"></a>
<a class="sourceLine" id="cb99-7" data-line-number="7"><span class="va">d3</span>.<span class="at">range</span>(<span class="dv">5</span>).<span class="at">map</span>(d <span class="op">=&gt;</span> [d <span class="op">-</span> <span class="dv">1</span><span class="op">,</span> d<span class="op">,</span> d <span class="op">+</span> <span class="dv">1</span>])<span class="op">;</span></a></code></pre></div>
</div>
<div id="practice" class="section level3">
<h3><span class="header-section-number">5.0.2</span> Practice</h3>
<p>Use the following to find the sample standard deviation of 3, 5, 7, 8 and 9.</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb100-1" data-line-number="1"><span class="va">d3</span>.<span class="at">sum</span>()</a>
<a class="sourceLine" id="cb100-2" data-line-number="2"><span class="va">d3</span>.<span class="at">mean</span>()</a>
<a class="sourceLine" id="cb100-3" data-line-number="3"></a>
<a class="sourceLine" id="cb100-4" data-line-number="4"><span class="va">Math</span>.<span class="at">sqrt</span>()</a>
<a class="sourceLine" id="cb100-5" data-line-number="5"><span class="va">Math</span>.<span class="at">pow</span>()</a>
<a class="sourceLine" id="cb100-6" data-line-number="6"></a>
<a class="sourceLine" id="cb100-7" data-line-number="7">.<span class="at">map</span>()</a></code></pre></div>
</div>
<div id="practice-3-buttons" class="section level3">
<h3><span class="header-section-number">5.0.3</span> Practice 3 buttons</h3>
<p>Add “add” and “remove” buttons.</p>
<p>Solution: <a href="EDAV5_3.html">EDAV5_3.html</a></p>
<p><em>Hint for 4 &amp; 5: Take out the transitions and get the scales working. Then, if you want, add transitions back in.</em></p>
</div>
<div id="practice-4-d3.scaleband" class="section level3">
<h3><span class="header-section-number">5.0.4</span> Practice 4 d3.scaleBand</h3>
<p>Up to this point, we have assumed one-to-one correspondence between pixels and data values. Scales allow flexibility in mapping data values to pixels. Add an ordinal scale to map the position of the bars appropriately given the width of the <code>svg</code> element, using <code>d3.scaleBand()</code>.</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb101-1" data-line-number="1"> <span class="kw">var</span> xScale <span class="op">=</span> <span class="va">d3</span>.<span class="at">scaleBand</span>()</a>
<a class="sourceLine" id="cb101-2" data-line-number="2">     .<span class="at">domain</span>([...])</a>
<a class="sourceLine" id="cb101-3" data-line-number="3">     .<span class="at">range</span>([...])<span class="op">;</span></a></code></pre></div>
<p>See: <em>IDVW</em>, Chapter 9, pp. 150-153</p>
<p>Solution: <a href="EDAV5_4_scaleBand.html">EDAV5_4_scaleBand.html</a></p>
</div>
<div id="practice-5-d3.scalelinear" class="section level3">
<h3><span class="header-section-number">5.0.5</span> Practice 5 d3.scaleLinear</h3>
<p>Add a linear scale for the y-axis using <code>d3.scaleLinear()</code>, so data will be scaled appropriately to the height of the <code>svg</code> element.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb102-1" data-line-number="1"><span class="kw">var</span> yScale <span class="op">=</span> <span class="va">d3</span>.<span class="at">scaleLinear</span>()</a>
<a class="sourceLine" id="cb102-2" data-line-number="2">    .<span class="at">domain</span>([...])</a>
<a class="sourceLine" id="cb102-3" data-line-number="3">    .<span class="at">range</span>([...])<span class="op">;</span></a></code></pre></div>
<p>See: <em>IDVW</em>, Chapter 7 (Note that our dataset is one-dimensional so we only have <code>d</code>, not <code>d[0]</code> and <code>d[1]</code>.)</p>
<p>Solution: <a href="EDAV5_5_scaleLinear.html">EDAV5_5_scaleLinear.html</a></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="update-enter-and-exit.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="your-solutions-here.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jtr13/d3book/edit/master/js.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/jtr13/d3book/blob/master/js.Rmd",
"text": null
},
"download": ["d3book.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
