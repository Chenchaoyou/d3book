<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>D3 for R Users</title>
  <meta name="description" content="D3 for R Users" />
  <meta name="generator" content="bookdown 0.10.2 and GitBook 2.6.7" />

  <meta property="og:title" content="D3 for R Users" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="D3 for R Users" />
  
  
  

<meta name="author" content="Joyce Robbins" />


<meta name="date" content="2019-08-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  

<link rel="next" href="introduction.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">D3 for R Users</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Jump in the deep end</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#setup"><i class="fa fa-check"></i><b>1.1</b> Setup</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#view-the-dom-in-elements-pane"><i class="fa fa-check"></i><b>1.2</b> View the DOM in Elements pane</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#run-code-in-the-javascript-console"><i class="fa fa-check"></i><b>1.3</b> Run code in the JavaScript Console</a><ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#part-b-transitions-ch.-9"><i class="fa fa-check"></i><b>1.3.1</b> Part B: Transitions (Ch. 9)</a></li>
<li class="chapter" data-level="1.3.2" data-path="index.html"><a href="index.html#part-c-interactivity-ch.-10"><i class="fa fa-check"></i><b>1.3.2</b> Part C: Interactivity (Ch. 10)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="web-technologies.html"><a href="web-technologies.html"><i class="fa fa-check"></i><b>3</b> Web Technologies</a><ul>
<li class="chapter" data-level="3.1" data-path="web-technologies.html"><a href="web-technologies.html#html"><i class="fa fa-check"></i><b>3.1</b> HTML</a></li>
<li class="chapter" data-level="3.2" data-path="web-technologies.html"><a href="web-technologies.html#learn-to-use-chrome-developer-tools"><i class="fa fa-check"></i><b>3.2</b> Learn to use Chrome Developer Tools</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="back-to-d3.html"><a href="back-to-d3.html"><i class="fa fa-check"></i><b>4</b> Back to D3</a><ul>
<li class="chapter" data-level="4.1" data-path="back-to-d3.html"><a href="back-to-d3.html#example-one"><i class="fa fa-check"></i><b>4.1</b> Example one</a></li>
<li class="chapter" data-level="4.2" data-path="back-to-d3.html"><a href="back-to-d3.html#example-two"><i class="fa fa-check"></i><b>4.2</b> Example two</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="final-words.html"><a href="final-words.html"><i class="fa fa-check"></i><b>5</b> Final Words</a></li>
<li class="chapter" data-level="6" data-path="scales.html"><a href="scales.html"><i class="fa fa-check"></i><b>6</b> Scales</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">D3 for R Users</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">D3 for R Users</h1>
<p class="author"><em>Joyce Robbins</em></p>
<p class="date"><em>2019-08-06</em></p>
</div>
<div id="jump-in-the-deep-end" class="section level1">
<h1><span class="header-section-number">1</span> Jump in the deep end</h1>
<p>Let’s skip the explanations and start coding in D3 right now. Why? So you can see the benefits and know what you’re working toward when you get stuck in the weeds. Then we’ll go back and start learning step by step.</p>
<div id="setup" class="section level2">
<h2><span class="header-section-number">1.1</span> Setup</h2>
<p>If you don’t have it already, download <a href="https://www.google.com/chrome/" target="_blank">Chrome browser</a>.</p>
</div>
<div id="view-the-dom-in-elements-pane" class="section level2">
<h2><span class="header-section-number">1.2</span> View the DOM in Elements pane</h2>
<ol style="list-style-type: decimal">
<li>Open a <em>downloaded version</em> of <a href="https://raw.githubusercontent.com/jtr13/d3book/master/code/shapes.html" target="_blank"><code>shapes.html</code></a> – click *File, Save Page As…` then open up the file in Chrome.</li>
</ol>
<p>Or download a zip whole repo. Clicking <a href="https://github.com/jtr13/d3book/archive/master.zip" target="_blank">here</a> will start the download.</p>
<p>Or fork and clone the <a href="https://github.com/jtr13/d3book" target="_blank">repo</a>.</p>
<ol start="2" style="list-style-type: decimal">
<li><p>Click <em>View, Developer, Developer Tools,</em> then the Elements tab.</p></li>
<li><p>Hover the mouse over various elements in the <code>&lt;body&gt; ... &lt;/body&gt;</code> section. Observe the highlighted sections in the rendered web page on the left of the screen. Click on the mini black triangles as needed to open new sections of the DOM tree.</p></li>
<li><p>Now try the reverse: right click on elements on the web page, choose “Inspect” and see what is highlighted in the Elements pane.</p></li>
</ol>
</div>
<div id="run-code-in-the-javascript-console" class="section level2">
<h2><span class="header-section-number">1.3</span> Run code in the JavaScript Console</h2>
<ol start="4" style="list-style-type: decimal">
<li><p>Click the Console tab. Type <code>d3.select(&quot;circle&quot;).attr(&quot;cx&quot;, &quot;200&quot;);</code> at the prompt (<code>&gt;</code>), press enter and see what happens.</p></li>
<li><p>Now try some of the following and/or experiment on your own with changing attributes of the circle:</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;circle&quot;</span>).<span class="at">attr</span>(<span class="st">&quot;cx&quot;</span><span class="op">,</span> <span class="st">&quot;300&quot;</span>)<span class="op">;</span>

<span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;circle&quot;</span>).<span class="at">attr</span>(<span class="st">&quot;cx&quot;</span><span class="op">,</span> <span class="st">&quot;400&quot;</span>)<span class="op">;</span>

<span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;circle&quot;</span>).<span class="at">attr</span>(<span class="st">&quot;cx&quot;</span><span class="op">,</span> <span class="st">&quot;500&quot;</span>)<span class="op">;</span>

<span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;circle&quot;</span>).<span class="at">attr</span>(<span class="st">&quot;cx&quot;</span><span class="op">,</span> <span class="st">&quot;600&quot;</span>)<span class="op">;</span>

<span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;circle&quot;</span>).<span class="at">attr</span>(<span class="st">&quot;cx&quot;</span><span class="op">,</span> <span class="st">&quot;100&quot;</span>)<span class="op">;</span>

<span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;circle&quot;</span>).<span class="at">attr</span>(<span class="st">&quot;r&quot;</span><span class="op">,</span> <span class="st">&quot;30&quot;</span>)<span class="op">;</span>

<span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;circle&quot;</span>).<span class="at">attr</span>(<span class="st">&quot;r&quot;</span><span class="op">,</span> <span class="st">&quot;130&quot;</span>)<span class="op">;</span>

<span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;circle&quot;</span>).<span class="at">attr</span>(<span class="st">&quot;r&quot;</span><span class="op">,</span> <span class="st">&quot;3&quot;</span>)<span class="op">;</span>

<span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;circle&quot;</span>).<span class="at">attr</span>(<span class="st">&quot;r&quot;</span><span class="op">,</span> <span class="st">&quot;30&quot;</span>)<span class="op">;</span>

<span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;circle&quot;</span>).<span class="at">attr</span>(<span class="st">&quot;fill&quot;</span><span class="op">,</span> <span class="st">&quot;red&quot;</span>)<span class="op">;</span>

<span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;circle&quot;</span>).<span class="at">attr</span>(<span class="st">&quot;fill&quot;</span><span class="op">,</span> <span class="st">&quot;aliceblue&quot;</span>)<span class="op">;</span>

<span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;circle&quot;</span>).<span class="at">attr</span>(<span class="st">&quot;fill&quot;</span><span class="op">,</span> <span class="st">&quot;lightseagreen&quot;</span>)<span class="op">;</span></code></pre></li>
<li><p>Refresh the page. What happened?</p></li>
<li><p>Go to Elements. Look at the value of the <code>y1</code> attribute of the SVG <code>&lt;line&gt;</code> element. Go back to the Console and enter the following:</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;line&quot;</span>).<span class="at">attr</span>(<span class="st">&quot;y1&quot;</span><span class="op">,</span> <span class="st">&quot;10&quot;</span>)<span class="op">;</span></code></pre></li>
<li>Go back to Elements and observe. What happened?</li>
<li><p>Stay in Elements and refresh the page. What happened to <code>y1</code>?</p></li>
<li><p>Now back to the Console to make style changes to the HTML elements:</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;h1&quot;</span>).<span class="at">style</span>(<span class="st">&quot;color&quot;</span><span class="op">,</span> <span class="st">&quot;purple&quot;</span>)<span class="op">;</span>

<span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;h2&quot;</span>).<span class="at">style</span>(<span class="st">&quot;font-size&quot;</span><span class="op">,</span> <span class="st">&quot;50px&quot;</span>)<span class="op">;</span>

<span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;h2&quot;</span>).<span class="at">style</span>(<span class="st">&quot;font-family&quot;</span><span class="op">,</span> <span class="st">&quot;Impact&quot;</span>)<span class="op">;</span></code></pre></li>
</ol>
<div id="part-b-transitions-ch.-9" class="section level3">
<h3><span class="header-section-number">1.3.1</span> Part B: Transitions (Ch. 9)</h3>
<ol style="list-style-type: decimal">
<li><p>Try these:</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;circle&quot;</span>).<span class="at">transition</span>().<span class="at">duration</span>(<span class="dv">2000</span>).<span class="at">attr</span>(<span class="st">&quot;cx&quot;</span><span class="op">,</span> <span class="st">&quot;400&quot;</span>)<span class="op">;</span>

<span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;ellipse&quot;</span>).<span class="at">transition</span>().<span class="at">duration</span>(<span class="dv">2000</span>).<span class="at">attr</span>(<span class="st">&quot;transform&quot;</span><span class="op">,</span> <span class="st">&quot;translate (400, 400)&quot;</span>)<span class="op">;</span>

<span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;line&quot;</span>).<span class="at">transition</span>().<span class="at">duration</span>(<span class="dv">2000</span>).<span class="at">attr</span>(<span class="st">&quot;x1&quot;</span><span class="op">,</span> <span class="st">&quot;400&quot;</span>)<span class="op">;</span>

<span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;line&quot;</span>).<span class="at">transition</span>().<span class="at">duration</span>(<span class="dv">2000</span>).<span class="at">attr</span>(<span class="st">&quot;y1&quot;</span><span class="op">,</span> <span class="st">&quot;250&quot;</span>)<span class="op">;</span>

<span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;p&quot;</span>).<span class="at">transition</span>().<span class="at">duration</span>(<span class="dv">2000</span>).<span class="at">style</span>(<span class="st">&quot;font-size&quot;</span><span class="op">,</span> <span class="st">&quot;72px&quot;</span>)<span class="op">;</span></code></pre></li>
<li><p>Experiment with more transitions.</p></li>
</ol>
</div>
<div id="part-c-interactivity-ch.-10" class="section level3">
<h3><span class="header-section-number">1.3.2</span> Part C: Interactivity (Ch. 10)</h3>
<ol style="list-style-type: decimal">
<li><p>Set up a function to turn the fill color to yellow:</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">function</span> <span class="at">goyellow</span>() <span class="op">{</span><span class="va">d3</span>.<span class="at">select</span>(<span class="kw">this</span>).<span class="at">attr</span>(<span class="st">&quot;fill&quot;</span><span class="op">,</span> <span class="st">&quot;yellow&quot;</span>)<span class="op">};</span></code></pre></li>
<li><p>Add an event listener to the circle that will be trigger a call to <code>goyellow()</code> on a mouseover:</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;circle&quot;</span>).<span class="at">on</span>(<span class="st">&quot;mouseover&quot;</span><span class="op">,</span> goyellow)<span class="op">;</span></code></pre></li>
<li><p>Test it out.</p></li>
<li><p>Add the same event listener to the ellipse. Test it out.</p></li>
<li><p>Create a function <code>goblue()</code> that changes the fill color to blue.</p></li>
<li><p>Add event listeners to the circle and ellipse that will trigger a call to <code>goblue()</code> on a <em>mouseout</em>. Test out your code.</p></li>
<li><p>Try out a click event. (Note the use of an anonymous function.)</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;line&quot;</span>).<span class="at">on</span>(<span class="st">&quot;click&quot;</span><span class="op">,</span> <span class="kw">function</span>()
  <span class="op">{</span><span class="va">d3</span>.<span class="at">select</span>(<span class="kw">this</span>).<span class="at">attr</span>(<span class="st">&quot;stroke-width&quot;</span><span class="op">,</span> <span class="st">&quot;10&quot;</span>)<span class="op">;}</span>)<span class="op">;</span></code></pre></li>
<li><p>Try another click event. What’s happening?</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;svg&quot;</span>).<span class="at">on</span>(<span class="st">&quot;click&quot;</span><span class="op">,</span> <span class="kw">function</span>()
  <span class="op">{</span><span class="va">d3</span>.<span class="at">select</span>(<span class="st">&quot;text&quot;</span>).<span class="at">text</span>(<span class="vs">`(</span><span class="sc">${</span><span class="va">d3</span>.<span class="at">mouse</span>(<span class="kw">this</span>)<span class="sc">}</span><span class="vs">)`</span>)<span class="op">}</span>)<span class="op">;</span></code></pre></li>
</ol>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>

<a href="introduction.html" class="navigation navigation-next navigation-unique" aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jtr13/d3book/edit/master/index.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["d3book.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
